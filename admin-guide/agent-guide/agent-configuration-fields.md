# Agent Configuration Fields

## Agent Configuration Fields

This page describes the fields of the `agent.yml` configuration file used during the Agent Installation.

| Field                                                                  | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ---------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `agent.certificate.agentservice.file`                                  | The "agentservice" user certificate file. Either certificate or RSA authentication of the user key must be set for OBO functionality to be available. Default: unset.                                                                                                                                                                                                                                                                                                                   |
| `agent.certificate.agentservice.password`                              | The "agentservice" user certificate password. Required if the agentservice certificate is set. Default: unset                                                                                                                                                                                                                                                                                                                                                                           |
| `agent.certificate.agentservice.type`                                  | <p><strong>Required</strong>.</p><p>The "agentservice" user certificate type. Default: pkcs12.</p>                                                                                                                                                                                                                                                                                                                                                                                      |
| `agent.certificate.ceservice.file`                                     | <p>The "ceservice" user certificate file. <br>Default: unset<br>Required to enable <a href="https://developers.symphony.com/restapi/main/datahose/datahose-read-events">Datahose </a>if your ceservice authenticates using certificates. <br>For RSA auth, please refer to <code>agent.privatekey.ceservice</code>. </p>                                                                                                                                                                |
| `agent.certificate.ceservice.password`                                 | <p><strong>Required</strong> if the ceservice certificate is set.<br>The "ceservice" user certificate password. Default: unset</p>                                                                                                                                                                                                                                                                                                                                                      |
| `agent.certificate.ceservice.type`                                     | The "ceservice" user certificate type. Default: pkcs12.                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `agent.cloudlogger.enabled`                                            | Indicates whether to enable cloud logging. Default: true                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `agent.cloudlogger.flushingInterval`                                   | The flushing interval of the cloud logger. Default: 5                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `agent.cloudlogger.maxPayloadSize`                                     | Maximum payload size of the cloud logger. Default: 1                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `agent.cloudlogger.onPrem.flushingInterval`                            | The flushing interval of the on-prem cloud log. Default: 5                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `agent.cloudlogger.onPrem.level`                                       | The log level of the on-prem cloud log. Default: INFO                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `agent.cloudlogger.onPrem.maxPayloadSize`                              | Maximum payload size of the on-prem cloud log. Default: 1                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `agent.cloudlogger.onPrem.sink.flushingInterval`                       | The flushing interval of the on-prem cloud logger sink. Default: 5                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `agent.cloudlogger.onPrem.sink.maxPayloadSize`                         | Maximum payload size of the on-prem cloud logger sink. Default: 10                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `agent.cloudlogger.onPremError.flushingInterval`                       | The flushing interval of the on-prem cloud error log. Default: 5                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `agent.cloudlogger.onPremError.level`                                  | The log level of the on-prem cloud error log. Default: WARN                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `agent.cloudlogger.onPremError.maxPayloadSize`                         | Maximum payload size of the on-prem cloud error log. Default: 1                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `agent.cloudlogger.onPremError.sink.flushingInterval`                  | The flushing interval of the on-prem cloud error logger sink. Default: 5                                                                                                                                                                                                                                                                                                                                                                                                                |
| `agent.cloudlogger.onPremError.sink.maxPayloadSize`                    | Maximum payload size of the on-prem cloud error logger sink. Default: 10                                                                                                                                                                                                                                                                                                                                                                                                                |
| `agent.cloudlogger.sink.maxPayloadSize`                                | Maximum payload size of the cloud logger sink. Default: 1                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `agent.cloudlogger.sink.flushingInterval`                              | The flushing interval of the cloud logger sink. Default: 5                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `agent.cloudmetrics.enabled`                                           | Indicates whether to enable cloud metrics. Default: true                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `agent.df1ToDf2Bridge.enabled`                                         | Indicates whether to enable datafeed v1 support over datafeed v2. Default: false.                                                                                                                                                                                                                                                                                                                                                                                                       |
| `agent.dlp.violationSource`                                            | If set to "`audit`", specifies that the DLP APIs will retrieve violation data in the audit service. Required to use the DLP APIs for GCP deployed tenants.                                                                                                                                                                                                                                                                                                                              |
| `agent.endpoints.deprecated.disable`                                   | Indicates if deprecated endpoints from Agent API should be disabled. Default: false                                                                                                                                                                                                                                                                                                                                                                                                     |
| `agent.features.elements.enabled`                                      | Indicates if Symphony Elements are enabled to be sent via Agent Messaging APIs. Default: true.                                                                                                                                                                                                                                                                                                                                                                                          |
| `agent.limits.attachmentUploadThreads`                                 | Number of threads to use for attachment upload. Default: 10                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `agent.limits.allowedOrigins.refreshAvailableAppFixedDelayInMillis`    | The interval between refreshing allowed app origins, in milliseconds. Requires the "agentservice" user to be configured. Default: 60000                                                                                                                                                                                                                                                                                                                                                 |
| `agent.limits.blastMessageStreamsLimit`                                | The maximum of Streams where a message can be sent using the Blast Message endpoint. Default: 100                                                                                                                                                                                                                                                                                                                                                                                       |
| `agent.limits.client.connectionRequestTimeout`                         | The timeout used when requesting a connection from the connection manager, in milliseconds. A value of zero is interpreted as an infinite timeout. Default: 32000                                                                                                                                                                                                                                                                                                                       |
| `agent.limits.client.connectTimeout`                                   | The timeout until a connection between the Agent and the pod or key manager is established, in milliseconds. A value of zero is interpreted as infinite timeout. Default: 2000                                                                                                                                                                                                                                                                                                          |
| `agent.limits.client.maxConnections`                                   | Maximum number of concurrent HTTP(s) connections opened by the Agent. Default: 200.                                                                                                                                                                                                                                                                                                                                                                                                     |
| `agent.limits.client.maxConnectionsPerRoute`                           | Maximum number of concurrent HTTP(s) connections opened by the Agent per route. Default: 150                                                                                                                                                                                                                                                                                                                                                                                            |
| `agent.limits.client.readTimeout`                                      | The time the Agent will wait for data from the pod or key manager, in milliseconds. A value of zero is interpreted as infinite timeout. Default: 30000                                                                                                                                                                                                                                                                                                                                  |
| `agent.limits.connectivity.refreshConnectivityStateFixedDelayInMillis` | The time the Agent will wait on startup before trying to check connectivity to the pod or key manager, in millisecods. Default: 30000                                                                                                                                                                                                                                                                                                                                                   |
| `agent.limits.datafeed.maxPerUser`                                     | Maximum number of active Datafeeds per user. Default: 5                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `agent.limits.datafeed.pollTimeout`                                    | The timeout of Datafeed poll requests, in milliseconds. If no messages are available, the Firehose will return HTTP 204 after this timeout is reached. Default: 30000                                                                                                                                                                                                                                                                                                                   |
| `agent.limits.datafeed.queueSize`                                      | The unread Datafeed messages capacity. Once it is reached, the Datafeed will expire. Default: 250                                                                                                                                                                                                                                                                                                                                                                                       |
| `agent.limits.firehose.pollTimeout`                                    | The timeout of Firehose poll requests, in milliseconds. If no messages are available, the Firehose will return HTTP 204 after this timeout is reached. Default: 30000                                                                                                                                                                                                                                                                                                                   |
| `agent.limits.firehose.maxPerUser`                                     | Maximum number of active Firehoses per user. Default: 2                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `agent.limits.firehose.queueSize`                                      | The unread Firehose messages capacity. Once it is reached, the Firehose will expire. Default: 500                                                                                                                                                                                                                                                                                                                                                                                       |
| `agent.limits.importThreads`                                           | Number of threads to use for message import. Default: 20                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `agent.limits.keyCache.size`                                           | Maximum number of stream keys to cache. Default: 1000                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `agent.limits.keyCache.ttl`                                            | Time to live of stream key cache entries, in hours. Default: 72                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `agent.limits.sessionCache.size`                                       | Maximum number of sessions to cache. Default: 10000                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `agent.limits.sessionCache.ttl`                                        | Time to live of session cache entries, in hours. Default: 72                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `agent.messaging.retry.initialDelay`                                   | (in milliseconds), the initial time before making the first polling call to check if a message has been correctly ingested. Changing this parameter can increase the load on the backend, is subject to rate limiting, and should only be done in specific scenarios following a discussion with the Symphony team.                                                                                                                                                                     |
| `agent.messaging.retry.delayMultiplier`                                | (in milliseconds), the multiplier between each retry polling calls to check if a message has been ingested. Changing this parameter can increase the load on the backend, is subject to rate limiting, and should only be done in specific scenarios following a discussion with the Symphony team.                                                                                                                                                                                     |
| `agent.onPrem`                                                         | Indicates whether this is an on-prem or cloud installation. Default: true.                                                                                                                                                                                                                                                                                                                                                                                                              |
| `agent.podName`                                                        | An identifier for the pod (e.g. the hostname of the pod).                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `agent.privateKey.agentservice.file`                                   | The "agentservice" user RSA private key file. Either certificate or RSA authentication of the user key must be set for OBO functionality to be available. Default: unset                                                                                                                                                                                                                                                                                                                |
| `agent.privateKey.agentservice.content`                                | <p>The "agentservice" user RSA private key content, this value will override the file if set. Either certificate or RSA authentication of the user key must be set. <br>This field can be encrypted. See <a href="agent-2.x-and-above-installation.md#encrypt-a-configuration-property">Property encryption</a>.</p>                                                                                                                                                                    |
| `agent.privateKey.ceservice.file`                                      | <p>The "ceservice" user RSA private key file. <br>Default: unset<br>Either <code>ceservice.file</code> or <code>ceservice.content</code> must be set to enable <a href="https://developers.symphony.com/restapi/main/datahose/datahose-read-events">Datahose </a>if your ceservice authenticates using RSA. <br>For certificate auth, please refer to <code>agent.certificate.ceservice</code>. </p>                                                                                    |
| `agent.privateKey.ceservice.content`                                   | <p>The "ceservice" user RSA private key content, this value will override the file if set. <br>Either <code>ceservice.file</code> or <code>ceservice.content</code> must be set to enable <a href="https://developers.symphony.com/restapi/main/datahose/datahose-read-events">Datahose </a>if your ceservice authenticates using RSA. <br>This field can be encrypted. See <a href="agent-2.x-and-above-installation.md#encrypt-a-configuration-property">Property encryption</a>.</p> |
| `agent.proxy.certAuth.enabled`                                         | Indicates whether certificate authentication requests should go through the pod proxy. Default: false                                                                                                                                                                                                                                                                                                                                                                                   |
| `agent.proxy.certAuth.keyauth.enabled`                                 | Indicates whether certificate-based keymanager authentication requests should go through the KM proxy.                                                                                                                                                                                                                                                                                                                                                                                  |
| `agent.proxy.firehose.password`                                        | The Firehose proxy password. Default: unset                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `agent.proxy.firehose.uri`                                             | The URI through which to proxy requests to the Firehose. Default: unset                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `agent.proxy.firehose.username`                                        | The Firehose proxy username. Default: unset                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `agent.proxy.keymanager.password`                                      | The key manager proxy password. Default: unset                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `agent.proxy.keymanager.uri`                                           | The URI through which to proxy requests to the key manager. Default: unset                                                                                                                                                                                                                                                                                                                                                                                                              |
| `agent.proxy.keymanager.username`                                      | The key manager proxy username. Default: unset                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `agent.proxy.symphony.password`                                        | The pod proxy password. Default: unset                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `agent.proxy.symphony.uri`                                             | The URI through which to proxy requests to the pod. Default: unset                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `agent.proxy.symphony.username`                                        | The pod proxy username. Default: unset                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `agent.proxy.certAuth.sessionauth.enabled`                             | Indicates whether certificate-based session authentication requests should go through the pod proxy.                                                                                                                                                                                                                                                                                                                                                                                    |
| `agent.registration.retry.delayMultiplier`                             | The delay multiplier rate after aditional failures. Default: 2                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `agent.registration.retry.initialDelay`                                | The delay after the first registration failure. Default: 1000ms                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `agent.registration.retry.maxAttempts`                                 | After this number of attempts the process will stop retrying. Default: 5                                                                                                                                                                                                                                                                                                                                                                                                                |
| `agent.registration.retry.timeout`                                     | The timeout for all retry processes. After this time the process will stop retrying. Default: 35000ms                                                                                                                                                                                                                                                                                                                                                                                   |
| `agent.url.agent`                                                      | The URL of the Agent. Used for Agent registration. Default: ${symphonyUrl}/agent                                                                                                                                                                                                                                                                                                                                                                                                        |
| `agent.url.keyauth`                                                    | The URL of certificate-based key manager authentication. Default: ${symphonyUrl}:8444/keyauth                                                                                                                                                                                                                                                                                                                                                                                           |
| `agent.url.keymanager`                                                 | The URL of the key manager. Default: ${symphonyUrl}/relay                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `agent.url.login`                                                      | The URL of web-based login. Default: ${symphonyUrl}/login.                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `agent.url.pod`                                                        | The URL of Pod API endpoints. Default: ${symphonyUrl}/pod.                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `agent.url.register`                                                   | <p><strong>Required</strong>.<br>The Agent registration URL. Default: ${symphonyUrl}/appstore/v1/internal/mgmt/agent/register.</p>                                                                                                                                                                                                                                                                                                                                                      |
| `agent.url.sessionauth`                                                | The URL of certificate-based session authentication. Default: ${symphonyUrl}:8444/sessionauth.                                                                                                                                                                                                                                                                                                                                                                                          |
| `agent.url.symphony`                                                   | <p><strong>Required</strong>.</p><p>The base URL of the Symphony pod.</p>                                                                                                                                                                                                                                                                                                                                                                                                               |

